{% extends 'base.html.twig' %}

{# Titre de l'onglet du navigateur #}
{% block title %}Modifier l'utilisateur{% endblock %}

{# Inclusion des feuilles de style spÃ©cifiques Ã  l'admin #}
{% block stylesheets %}
  {{ encore_entry_link_tags('app') }}
{% endblock %}

{% block body %}
<div class="admin-container">
  <div class="admin-layout">
    {% include 'admin/partials/_sidebar.html.twig' %}

    <div class="admin-content">
      <h1 class="page-title">Modifier lâ€™utilisateur</h1>

      {# ðŸ”½ assure lâ€™affichage des flashs sur cette page #}
      {% include 'partials/_flash.html.twig' %}

      {# --- FORMULAIRE Dâ€™Ã‰DITION --- #}
      {{ form_start(form, { attr: { class: 'user-form' } }) }}

      {{ form_row(form.lastName,  { row_attr:{ class:'field' }, label:'Nom', label_attr:{ class:'label' }, attr:{ class:'input', placeholder:'Vinchon' } }) }}
      {{ form_row(form.firstName, { row_attr:{ class:'field' }, label:'PrÃ©nom', label_attr:{ class:'label' }, attr:{ class:'input', placeholder:'Siham' } }) }}
      {{ form_row(form.email,     { row_attr:{ class:'field' }, label:'Email', label_attr:{ class:'label' }, attr:{ class:'input', placeholder:'sihamvinchon@gmail.com' } }) }}
      {{ form_row(form.role,      { row_attr:{ class:'field' }, label:'RÃ´le',  label_attr:{ class:'label' }, attr:{ class:'select' } }) }}
      {{ form_row(form.status,    { row_attr:{ class:'field' }, label:'Status',label_attr:{ class:'label' }, attr:{ class:'select' } }) }}

      <div class="actions buttons">
        <button type="submit" class="btn purple">Enregistrer</button>
        <a href="{{ path('admin_users') }}" class="btn withe">Annuler</a>
      </div>

      {{ form_end(form) }}
      {# --- FIN FORMULAIRE Dâ€™Ã‰DITION --- #}

      {# --- FORMULAIRE SÃ‰PARÃ‰ : ENVOYER LIEN RESET --- #}
      <form method="post"
            action="{{ path('admin_user_send_reset', { id: user.id }) }}"
            class="buttons" style="margin-top:12px">
        <input type="hidden" name="_token" value="{{ csrf_token('send_reset_' ~ user.id) }}">
        <button class="btn withe">Envoyer le lien pour rÃ©initialiser le mot de passe</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}
