{# templates/security/login.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Connexion - Kidzen&Fun{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('app') }}
    <link rel="stylesheet" href="{{ asset('css/login.css') }}">
{% endblock %}

{% block body %}
<section class="login-section">
    <div class="login-container">

        {# ğŸ§­ Fil d'ariane #}
        <div class="breadcrumb">
            <a href="{{ path('home') }}">â† retour</a> &nbsp; > &nbsp;
            <span>connexion</span>
        </div>

        {# âœ… Messages flash (succÃ¨s, info, erreur, etc.) #}
        {% for label, messages in app.flashes %}
            {% for message in messages %}
                <div class="flash-{{ label }}">{{ message }}</div>
            {% endfor %}
        {% endfor %}

        {# ğŸ” Titre #}
        <h1 class="login-title">Connectez-vous ici</h1>
        <p class="login-intro">Entrez vos informations pour accÃ©der Ã  votre compte.</p>

        {# âš ï¸ Message d'erreur d'authentification #}
        {% if error %}
            <div class="flash-error">
                {{ error.messageKey|trans(error.messageData, 'security') }}
            </div>
        {% endif %}

        {# âœ… Formulaire de connexion #}
        <form method="post" class="login-form" action="{{ path('app_login') }}">
            {# CSRF (doit correspondre Ã  csrf_token_id: authenticate) #}
            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

            <div class="form-group">
                <label for="inputEmail">Email</label>
                <input type="email" id="inputEmail" name="_username" required autofocus placeholder="Entrez votre email..." class="form-control">
            </div>

            <div class="form-group">
                <label for="inputPassword">Mot de passe</label>
                <input type="password" id="inputPassword" name="_password" required placeholder="Entrez votre mot de passe..." class="form-control">
            </div>

            <div class="form-check">
                <input type="checkbox" id="remember_me" name="_remember_me">
                <label for="remember_me">Se souvenir de moi</label>
            </div>

            <button type="submit" class="btn btn-primary">Se connecter</button>
        </form>

        {# ğŸ”— Liens supplÃ©mentaires #}
        <div class="login-links">
            <p>Vous nâ€™avez pas de compte ? <a href="{{ path('registration') }}">CrÃ©er votre compte ici</a></p>
            <p>Vous avez oubliÃ© votre mot de passe ? <a href="#">RÃ©initialisez le mot de posse ici</a></p>
        </div>

    </div>
</section>
{% endblock %}
